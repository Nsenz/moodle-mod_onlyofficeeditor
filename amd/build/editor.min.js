define ("mod_onlyoffice/editor",["jquery"],function(a){var b=function(b){require(["core/str"],function(c){var d=c.get_string(b,"onlyoffice");a.when(d).done(function(b){a("#onlyoffice-editor").text=b;a("#onlyoffice-editor").text(b).addClass("error")})})},c=function(){require(["core/str"],function(b){var c=b.get_string("editorenterfullscreen","onlyoffice"),d=b.get_string("editorexitfullscreen","onlyoffice"),e=a("nav .nav-link.btn")[0],f=a(".onlyoffice-container")[0];a.when(c).done(function(b){c=b;var d=document.createElement("button"),g=document.createElement("i");g.className="icon fa fa-expand fa-fw";d.appendChild(g);d.className="onlyoffice-editor-fs-button";d.id="onlyoffice-enter-fs-button";d.innerHTML+=c;d.style.cssText="padding: 5px; margin-top: -5px; margin-right: 10px;";d.onclick=function(){a("header").hide();a("footer").hide();if("true"===e.getAttribute("aria-expanded")){a("nav .nav-link.btn")[0].click()}f.style.cssText="position: absolute; left: 0; right: 0; top: 0; padding: 0 16px 0 16px; z-index: 100;";a("#onlyoffice-enter-fs-button").hide();a("#onlyoffice-exit-fs-button").show()};a("#region-main-settings-menu .menubar")[0].prepend(d)});a.when(d).done(function(b){d=b;var c=document.createElement("button"),e=document.createElement("i");e.className="icon fa fa-compress fa-fw";c.appendChild(e);c.innerHTML+=d;c.className="onlyoffice-editor-fs-button";c.id="onlyoffice-exit-fs-button";c.onclick=function(){f.style.cssText="";a("header").show();a("footer").show();a("#onlyoffice-enter-fs-button").show();a("#onlyoffice-exit-fs-button").hide()};a(".usernav .nav-item")[0].prepend(c);a("#onlyoffice-exit-fs-button").hide()})})};return{init:function init(d,e){if("undefined"==typeof DocsAPI){b("docserverunreachable");return}c();var f=M.cfg.wwwroot+"/mod/onlyoffice/dsconfig.php";a.getJSON(f,{courseid:d,cmid:e}).done(function(a){new DocsAPI.DocEditor("onlyoffice-editor",a)})}}});
//# sourceMappingURL=editor.min.js.map
